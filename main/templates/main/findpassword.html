<!DOCTYPE html>
<html lang="ko">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>비밀번호 찾기 - 한사랑교회</title>
    <link rel="stylesheet" href="/css/style.css" />
    <link rel="stylesheet" href="/css/form.css" />
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css"
    />
  </head>
  <body>
    <header class="navbar">
      <button
        class="hamburger-button"
        aria-expanded="false"
        aria-controls="main-navigation"
      >
        <span class="sr-only">메뉴 열기/닫기</span>
        <i class="fa-solid fa-bars"></i>
      </button>

      <a href="/" class="navbar-logo-link">
        <img src="/images/main.jpg" alt="로고" class="navbar-logo" />
      </a>

      <nav class="nav-links-container">
        <ul class="nav-links">
          <li><a href="#">교회소개</a></li>
          <li><a href="#">교회소식</a></li>
          <li><a href="#">부서별</a></li>
          <li><a href="#">예배</a></li>
          <li><a href="#">자료실</a></li>
        </ul>
      </nav>

      <div class="user-status-container"></div>
    </header>

    <main class="form-container">
      <form class="find-password-form" id="find-password-form">
        <h2>비밀번호 찾기</h2>
        <p id="form-description">
          가입 시 입력한 아이디 또는 이메일을 입력해 주세요.
        </p>

        <div id="step-1">
          <div class="input-group">
            <label for="username_email">아이디 또는 이메일</label>
            <div class="email-input-group">
              <input
                type="text"
                id="username_email"
                name="username_email"
                required
              />
              <button type="button" id="send-code-btn" class="btn-secondary">
                <span class="button-text">인증번호 보내기</span>
                <span class="loading-spinner" style="display: none"></span>
              </button>
            </div>
          </div>
          <p id="timer" class="timer-text" style="display: none"></p>
        </div>

        <div id="step-2" style="display: none">
          <div class="input-group">
            <label for="verification-code">인증번호</label>
            <div class="email-input-group">
              <input
                type="text"
                id="verification-code"
                name="verification_code"
                required
                maxlength="6"
              />
              <button type="button" id="verify-code-btn" class="btn-secondary">
                <span class="button-text">인증확인</span>
                <span class="loading-spinner" style="display: none"></span>
              </button>
            </div>
          </div>
        </div>

        <div id="step-3" style="display: none">
          <div class="input-group">
            <label for="new_password">새 비밀번호</label>
            <input
              type="password"
              id="new_password"
              name="new_password"
              required
            />
            <p id="password-error" class="error-message"></p>
          </div>
          <div class="input-group">
            <label for="confirm_password">새 비밀번호 확인</label>
            <input
              type="password"
              id="confirm_password"
              name="confirm_password"
              required
            />
          </div>
        </div>

        <p id="form-message" class="error-message"></p>

        <button type="submit" id="submit-btn" class="btn-submit">
          비밀번호 재설정
        </button>

        <div class="form-links">
          <a href="login.html">로그인</a>
          <a href="register.html">회원가입</a>
        </div>
      </form>
    </main>

    <footer class="main-footer">
      <div class="footer-links">
        <a href="#">제안 및 문의</a> | <a href="#">이용약관</a>
      </div>
      <p class="footer-info">
        13978 경기도 안양시 박달로 413 (한일아파트상가 2,3층)
      </p>
      <p class="footer-info2">TEL : 031-444-9730 | 010-8134-4849</p>
      <p class="footer-copy">
        COPYRIGHT©2025 한사랑교회 All Rights Reserved. Designed by 손지성 청년
      </p>
    </footer>

    <script src="/js/findpassword.js"></script>
    <script src="/js/header.js"></script>
  </body>
</html>
